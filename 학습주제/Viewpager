## ViewPager2

### 1. ViewPager란?
#### 터치를 통해 스크롤하여 화면을 전환하는 기능
#### ViewPager에 여러 화면을 작성하여 추가해 놓고 스크롤을 통해 화면을 전환

### 2. ViewPager 1과 2의 차이
||ViewPager1|ViewPager2|
|------|---|---|
|Adapter|Pager Adapter|RecyclerView Adapter|
|Orientation|Horizontal Only|Horizontal/Vertical|
|RTL Support|Not Support|Support|

#### 기타
1) ViewPager2가 RecyclerView Adapter 기반이기 때문에 리소스 관리 측면에서 뛰어남
2) 세로 방향의 ViewPager 구현을 지원하기 때문에 기존의 복잡한 방식으로 구현할 필요 없음 
3) RecyclerView와 사용 방법이 동일하여 개발이 용이함
4) Android Developer 공식 페이지의 ViewPager 항목에서도 ViewPager2로 구현하기를 권고

### 3. ViewPager 사용 시 주의 사항
1) RecyclerView의 Row 안에 ViewPager를 넣을 경우, 스크롤 할 때마다 instantiateItem()과 destroyItem()이 호출되어 버벅이는 현상 발생
2) Pages must fill the whole ViewPager2 (use match_parent) Error
- ViewPager2의 ChildView를 inflate 할 경우, attachToRoot는 false, width/height는 match_parent로 설정
3) PageTransformer 설정 한 후 notifyDataSetChanged() 호출 시 View가 깨지는 Error
- notifyDataSetChanged() 호출 시 모든 View를 다시 그리는데, PageTransformer를 설정한 View는 정상적으로 보이지 않음   
 : 아래 메서드를 사용하면 정상적으로 보여짐   
 notifyItemChanged(int)   
 notifyItemInserted(int)   
 notifyItemRemoved(int)   
 notifyItemRangeChanged(int, int)   
 notifyItemRangeInserted(int, int)   
 notifyItemRangeRemoved(int, int)   

### 4. 기본 구현 방법
1. Module 단위 Gradle에 종속성 추가
```
dependencies {
    implementation "androidx.viewpager2:viewpager2:x.x.x"
}
```

2. layout 파일에 ViewPager2 추가

```
<androidx.viewpager2.widget.ViewPager2
        android:id="@+id/houseViewPager"
        android:layout_width="match_parent"
        android:layout_height="100dp"
        android:layout_gravity="bottom"
        android:layout_marginBottom="120dp"
        android:orientation="horizontal"/>
```

3. Adaptere 생성(RecyclerView.Adapter 또는 FragmentStateAdapter)
```
class RecyclerViewAdapter(var items: ArrayList<String> = arrayListOf()) : RecyclerView.Adapter<ViewHolder>() {
  
override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {
        return ViewHolder(LayoutInflater.from(parent.context)
                          .inflate(R.layout.list_item, parent, false))
    }
  
override fun onBindViewHolder(holder: ViewHolder, position: Int) {
        holder.setData(items[position])
    }
  
override fun getItemCount(): Int = items.size
  
  ...
}

```

4. ViewPager에 Adapter를 적용하여 사용
 - 관련 예제 : Airbnb Sample
